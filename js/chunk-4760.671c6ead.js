(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4760"],{"10c7":function(t,a,n){},"284a":function(t,a,n){"use strict";n.d(a,"a",function(){return e}),n.d(a,"b",function(){return i});n("cadf"),n("551c"),n("097d");var s=n("b775");function e(){return Object(s["a"])({url:"global",method:"get"})}function i(t){return Object(s["a"])({url:"global/num?type=".concat(t),method:"get"})}},"2abab":function(t,a,n){"use strict";var s=n("482a"),e=n.n(s);e.a},3885:function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"dashboard-container"},[n(t.currentRole,{tag:"component"})],1)},e=[],i=(n("6762"),n("2fdb"),n("c93e")),c=n("2f62"),r=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"dashboard-editor-container"},[n("PanelGroup")],1)},l=[],p=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("el-row",{staticClass:"panel-group",attrs:{gutter:20}},[n("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[n("div",{staticClass:"card-panel"},[n("div",{staticClass:"card-panel-description"},[n("span",{staticClass:"card-panel-num"},[t._v(t._s(t.statis.online))]),n("div",{staticClass:"card-panel-text"},[t._v("当前在线人数")])])])]),n("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[n("div",{staticClass:"card-panel"},[n("div",{staticClass:"card-panel-description"},[n("span",{staticClass:"card-panel-num"},[t._v(t._s(t.statis.bandwidth_p2p.num))]),n("div",{staticClass:"card-panel-text"},[t._v("当前P2P带宽("+t._s(t.statis.bandwidth_p2p.unit)+")")])])])]),n("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[n("div",{staticClass:"card-panel"},[n("div",{staticClass:"card-panel-description"},[n("span",{staticClass:"card-panel-num"},[t._v(t._s(t.statis.bandwidth_http.num))]),n("div",{staticClass:"card-panel-text"},[t._v("当前HTTP带宽("+t._s(t.statis.bandwidth_http.unit)+")")])])])]),n("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[n("div",{staticClass:"card-panel"},[n("div",{staticClass:"card-panel-description"},[n("span",{staticClass:"card-panel-num"},[t._v(t._s(t.statis.p2p_rate))]),n("div",{staticClass:"card-panel-text"},[t._v("当前P2P分享率(%)")])])])]),n("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[n("div",{staticClass:"card-panel"},[n("div",{staticClass:"card-panel-description"},[n("span",{staticClass:"card-panel-num"},[t._v(t._s(t.statis.hostNum))]),n("div",{staticClass:"card-panel-text"},[t._v("活跃网站总数")])])])])],1)},o=[],d=(n("cadf"),n("551c"),n("097d"),n("284a")),_=n("a877"),u=n("6be8"),m=void 0,b={name:"PanelGroup",data:function(){return{statis:{online:0,max_online:0,max_online_week:0,max_online_month:0,p2p_rate:0,p2p_rate_week:0,p2p_rate_month:0,hostNum:0,bandwidth_p2p:{num:0,unit:"kbps"},bandwidth_p2p_week:{num:0,unit:"kbps"},bandwidth_p2p_month:{num:0,unit:"kbps"},bandwidth_http:{num:0,unit:"kbps"},traffic_p2p:{num:0,unit:"KB"},traffic_p2p_month:{num:0,unit:"KB"},frequency_day:0,frequency_week:0,frequency_month:0}}},mounted:function(){var t=this;t.getData(),m=setInterval(function(){t.getData()},1e4)},destroyed:function(){clearInterval(m)},methods:{getData:function(){var t=this;Object(d["a"])().then(function(a){var n=a.data;t.statis.online=n.num_rt,t.statis.max_online=n.max_num,t.statis.max_online_week=n.max_num_7,t.statis.max_online_month=n.max_num_month,t.statis.bandwidth_p2p=Object(u["a"])(n.rt_bw_p2p),t.statis.bandwidth_p2p_week=Object(u["a"])(n.bwp_p2p_7),t.statis.bandwidth_p2p_month=Object(u["a"])(n.bwp_p2p_month),t.statis.bandwidth_http=Object(u["a"])(n.rt_bw_http),t.statis.p2p_rate=(100*n.p2p_rate_rt).toFixed(2),t.statis.p2p_rate_week=(100*n.p2p_rate_7).toFixed(2),t.statis.p2p_rate_month=(100*n.p2p_rate_month).toFixed(2),t.statis.traffic_p2p=Object(u["c"])(n.traffic_p2p_day),t.statis.traffic_p2p_month=Object(u["c"])(n.traffic_p2p_30),t.statis.frequency_day=n.api_frequency_day,t.statis.frequency_week=n.api_frequency_7,t.statis.frequency_month=n.api_frequency_30,t.$emit("numChange",n.num_rt)}).catch(function(t){console.log(t)}),Object(_["h"])().then(function(a){t.statis.hostNum=a.data.num})}}},h=b,f=(n("a700"),n("2877")),v=Object(f["a"])(h,p,o,!1,null,"ab829b8e",null);v.options.__file="PanelGroup.vue";var w=v.exports,C={name:"Dashboard",components:{PanelGroup:w}},x=C,g=(n("2abab"),Object(f["a"])(x,r,l,!1,null,null,null));g.options.__file="LiveData.vue";var j=g.exports,k=n("3807"),y={name:"Dashboard",components:{adminDashboard:j,userDashboard:k["default"]},data:function(){return{currentRole:"adminDashboard"}},computed:Object(i["a"])({},Object(c["b"])(["roles"])),created:function(){this.roles.includes("admin")||(this.currentRole="userDashboard")}},O=y,D=Object(f["a"])(O,s,e,!1,null,null,null);D.options.__file="LiveData.vue";a["default"]=D.exports},"482a":function(t,a,n){},a700:function(t,a,n){"use strict";var s=n("10c7"),e=n.n(s);e.a}}]);
//# sourceMappingURL=chunk-4760.671c6ead.js.map