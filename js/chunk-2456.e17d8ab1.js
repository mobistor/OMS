(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2456"],{"628c":function(e,n,s){},"6a67":function(e,n,s){"use strict";var t=s("700f"),i=s.n(t);i.a},"700f":function(e,n,s){},"87de":function(e,n,s){"use strict";s.r(n);var t=function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("div",{staticClass:"login-container"},[s("el-form",{ref:"signupForm",staticClass:"login-form",attrs:{model:e.signupForm,rules:e.signupRules,"auto-complete":"on","label-position":"left"}},[s("div",{staticClass:"title-container"},[s("h3",{staticClass:"title"},[e._v(e._s(e.$t("signup.title")))]),s("lang-select",{staticClass:"set-language"})],1),s("el-form-item",{attrs:{prop:"email"}},[s("span",{staticClass:"svg-container svg-container_login"},[s("svg-icon",{attrs:{"icon-class":"user"}})],1),s("el-input",{attrs:{placeholder:e.$t("signup.email"),name:"email",type:"text","auto-complete":"on"},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.onSendCode(n):null}},model:{value:e.signupForm.email,callback:function(n){e.$set(e.signupForm,"email",n)},expression:"signupForm.email"}})],1),s("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{id:"sendButton",loading:e.sendLoading,disabled:e.sendDisabled,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.onSendCode(n)}}},[e._v(e._s(e.$t("signup.send")))]),s("el-form-item",{attrs:{prop:"vcode"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),s("el-input",{attrs:{placeholder:e.$t("signup.vcode"),name:"vcode","auto-complete":"on"},model:{value:e.signupForm.vcode,callback:function(n){e.$set(e.signupForm,"vcode",n)},expression:"signupForm.vcode"}})],1),s("el-form-item",{attrs:{prop:"passwd"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),s("el-input",{attrs:{type:e.passwordType,placeholder:e.$t("login.password"),name:"passwd","auto-complete":"on"},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.handleSignup(n):null}},model:{value:e.signupForm.passwd,callback:function(n){e.$set(e.signupForm,"passwd",n)},expression:"signupForm.passwd"}}),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),s("el-form-item",{attrs:{prop:"confirm_passwd"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),s("el-input",{attrs:{type:e.passwordType,placeholder:e.$t("signup.confirm_password"),name:"confirm_passwd","auto-complete":"on"},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.handleSignup(n):null}},model:{value:e.signupForm.confirm_passwd,callback:function(n){e.$set(e.signupForm,"confirm_passwd",n)},expression:"signupForm.confirm_passwd"}}),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),s("el-row",{attrs:{type:"flex",justify:"space-between"}},[s("a",{staticStyle:{color:"#eee"},on:{click:e.goLogin}},[e._v(e._s(e.$t("auth.login")))]),s("a",{staticStyle:{color:"#eee"},on:{click:e.goFindPwd}},[e._v(e._s(e.$t("auth.resetPasswd")))])]),s("el-button",{staticStyle:{width:"100%",margin:"20px 0"},attrs:{loading:e.signupLoading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.handleSignup(n)}}},[e._v(e._s(e.$t("signup.signUp")))])],1)],1)},i=[],a=(s("cadf"),s("551c"),s("097d"),s("1131")),o=s("61f7"),r=s("3786"),c={name:"Signup",components:{LangSelect:a["a"]},data:function(){var e=this,n=function(n,s,t){if(Object(o["a"])(s))t();else{var i=e.$t("auth.mailError");t(new Error(i))}},s=function(n,s,t){if(s.length<6||s.length>18){var i=e.$t("auth.passwdError");t(new Error(i))}else t()},t=function(n,s,t){if(s.length<4){var i=e.$t("auth.vcodeError");t(new Error(i))}else t()},i=function(n,s,t){var i=e.signupForm.passwd;if(s!==i){var a=e.$t("signup.confirm_password_error");t(new Error(a))}else t()};return{signupForm:{email:"",vcode:"",passwd:"",confirm_passwd:""},signupRules:{email:[{required:!0,trigger:"blur",validator:n}],vcode:[{required:!0,trigger:"blur",validator:t}],passwd:[{required:!0,trigger:"blur",validator:s}],confirm_passwd:[{required:!0,trigger:"blur",validator:i}]},passwordType:"password",signupLoading:!1,sendLoading:!1,sendDisabled:!1,redirect:void 0,int:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleSignup:function(){var e=this;this.$refs.signupForm.validate(function(n){if(!n)return console.log("error submit!!"),!1;e.signupLoading=!0;var s=e.$route.query.agent;s&&(e.signupForm.agent=s),e.$store.dispatch("signup",e.signupForm).then(function(){e.signupLoading=!1,e.$router.push({path:e.redirect||"/"});var n=e.$t("signup.signUpSuccess");e.$message({message:n,type:"success"})}).catch(function(){e.signupLoading=!1})})},onSendCode:function(){var e=this,n=this.signupForm.email;if(n)if(Object(o["a"])(n)){var s={email:n,action:"signup"};this.sendLoading=!0,Object(r["c"])(s).then(function(n){e.sendLoading=!1,e.$message({message:"发送成功",type:"success"}),e.sendButtonEnable()}).catch(function(n){e.sendLoading=!1,console.log(n)})}else{var t=this.$t("auth.mailError");this.$message.error(t)}else{var i=this.$t("auth.email");this.$message.error(i)}},goLogin:function(){this.$router.push({path:"/login"})},goFindPwd:function(){this.$router.push({path:"/forget_password"})},sendButtonEnable:function(){var e=300,n=document.getElementById("sendButton"),s=this;s.int=setInterval(function(){s.sendDisabled=!0,e--,e>0?n.innerHTML=e+" S":(n.innerHTML=s.$t("signup.send"),s.sendDisabled=!1,clearInterval(s.int),s.int=void 0)},1e3)}}},l=c,u=(s("ff39"),s("6a67"),s("2877")),p=Object(u["a"])(l,t,i,!1,null,"59bb5a30",null);p.options.__file="index.vue";n["default"]=p.exports},ff39:function(e,n,s){"use strict";var t=s("628c"),i=s.n(t);i.a}}]);
//# sourceMappingURL=chunk-2456.e17d8ab1.js.map