(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d37a"],{3618:function(e,n,t){"use strict";t.d(n,"d",function(){return a}),t.d(n,"b",function(){return r}),t.d(n,"c",function(){return i}),t.d(n,"a",function(){return c}),t.d(n,"e",function(){return s});t("cadf"),t("551c"),t("097d");var o=t("b775");function a(){return Object(o["a"])({url:"tracker/config",method:"get"})}function r(e){return Object(o["a"])({url:"tracker/config",method:"post",data:e})}function i(){return Object(o["a"])({url:"/tracker/announces",method:"get"})}function c(e){return Object(o["a"])({url:"/tracker/announces",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/tracker/announces",method:"delete",data:e})}},b1e3:function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-card",{attrs:{"body-style":"mobile"===e.device?{padding:"0"}:{padding:"50px"}}},[t("el-form",{ref:"configForm",attrs:{model:e.configForm,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"返回节点数量"}},[t("el-slider",{attrs:{max:50,"show-input":""},on:{change:e.numChange},model:{value:e.configForm.max_peer_num,callback:function(n){e.$set(e.configForm,"max_peer_num",n)},expression:"configForm.max_peer_num"}})],1),t("el-form-item",{attrs:{label:"节点最大连接数"}},[t("el-slider",{attrs:{max:50,"show-input":""},on:{change:e.maxConnChange},model:{value:e.configForm.max_peer_conn,callback:function(n){e.$set(e.configForm,"max_peer_conn",n)},expression:"configForm.max_peer_conn"}})],1),t("el-form-item",{attrs:{label:"节点最小连接数"}},[t("el-slider",{attrs:{max:15,"show-input":""},on:{change:e.minConnChange},model:{value:e.configForm.min_peer_conn,callback:function(n){e.$set(e.configForm,"min_peer_conn",n)},expression:"configForm.min_peer_conn"}})],1),t("el-form-item",{attrs:{label:"上报时间间隔"}},[t("el-slider",{attrs:{min:10,max:120,"show-input":""},on:{change:e.intervalChange},model:{value:e.configForm.report_interval,callback:function(n){e.$set(e.configForm,"report_interval",n)},expression:"configForm.report_interval"}})],1),t("el-form-item",{attrs:{label:"ShareOnly模式"}},[t("el-switch",{attrs:{"active-color":"green","inactive-color":"red"},on:{change:e.shareOnlyChange},model:{value:e.configForm.share_only,callback:function(n){e.$set(e.configForm,"share_only",n)},expression:"configForm.share_only"}})],1),t("el-form-item",{attrs:{label:"同时在线节点数"}},[t("el-slider",{attrs:{min:0,max:2e6,"show-input":""},on:{change:e.maxNodesChange},model:{value:e.configForm.max_nodes,callback:function(n){e.$set(e.configForm,"max_nodes",n)},expression:"configForm.max_nodes"}})],1),t("el-form-item",{attrs:{label:"服务状态"}},[t("el-switch",{attrs:{"active-color":"green","inactive-color":"red",disabled:!0},model:{value:e.configForm.tracker_open,callback:function(n){e.$set(e.configForm,"tracker_open",n)},expression:"configForm.tracker_open"}})],1),t("el-form-item",[t("el-button",{attrs:{loading:e.buttonLoading,disabled:!e.isChanged,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.handleSubmit(n)}}},[e._v("更改")]),t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.reset(n)}}},[e._v("取消")])],1)],1)],1)},a=[],r=t("c93e"),i=(t("cadf"),t("551c"),t("097d"),t("2f62")),c=t("3618"),s={name:"TrackerConfig",data:function(){return{isChanged:!1,buttonLoading:!1,tempData:{},configForm:{max_peer_num:0,max_peer_conn:0,min_peer_conn:0,report_interval:0,tracker_open:!1,max_nodes:0,share_only:!1}}},computed:Object(r["a"])({},Object(i["b"])(["device"])),mounted:function(){var e=this;Object(c["d"])().then(function(n){e.tempData=Object(r["a"])({},n.data),e.configForm=Object(r["a"])({},n.data)})},methods:{handleSubmit:function(){var e=this;this.buttonLoading=!0,Object(c["b"])(this.configForm).then(function(n){e.buttonLoading=!1,e.isChanged=!1,e.tempData=Object(r["a"])({},e.configForm),e.$message({message:"更改配置成功",type:"success"})}).catch(function(n){e.buttonLoading=!1,console.log(n)})},reset:function(){this.isChanged=!1,this.configForm=this.tempData},numChange:function(){this.isChanged=!0},maxConnChange:function(){this.isChanged=!0},minConnChange:function(){this.isChanged=!0},intervalChange:function(){this.isChanged=!0},maxNodesChange:function(){this.isChanged=!0},shareOnlyChange:function(){this.isChanged=!0}}},l=s,m=t("2877"),u=Object(m["a"])(l,o,a,!1,null,null,null);u.options.__file="tracker.vue";n["default"]=u.exports}}]);
//# sourceMappingURL=chunk-d37a.6f4b0373.js.map