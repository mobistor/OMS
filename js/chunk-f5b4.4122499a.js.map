{"version":3,"sources":["webpack:///./src/api/trackerConfig.js","webpack:///./src/views/trackerConfig/announce.vue?7326","webpack:///src/views/trackerConfig/announce.vue","webpack:///./src/views/trackerConfig/announce.vue?55b5","webpack:///./src/views/trackerConfig/announce.vue","webpack:///./src/views/trackerConfig/announce.vue?3f1b"],"names":["fetchTrackerConfig","Object","_utils_request__WEBPACK_IMPORTED_MODULE_3__","url","method","configTracker","data","fetchAnnounces","addAnnounce","removeAnnounce","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","margin","attrs","xs","sm","lg","float","type","on","click","$event","dialogFormVisible","_v","directives","name","rawName","value","expression","width","tableData","label","align","scopedSlots","_u","key","fn","scope","margin-left","_s","row","$t","ref","placement","trigger","text-align","size","pClose","handleDelete","style","device","slot","pShow","visible","update:visible","model","form","label-position","label-width","required","callback","$$v","$set","loading","createItemLoading","handleCreateItem","staticRenderFns","announcevue_type_script_lang_js_","tableLoading","announce","mounted","fetchData","computed","objectSpread","vuex_esm","methods","id","$refs","doShow","doClose","_this","trackerConfig","then","res","announces","catch","err","_this2","createForm","validate","valid","success","$message","item","_this3","console","log","trackerConfig_announcevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_announce_vue_vue_type_style_index_0_id_11ef5566_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_announce_vue_vue_type_style_index_0_id_11ef5566_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-f5b4.4122499a.js","sourcesContent":["import request from '@/utils/request'\n\n// 获取tracker配置\nexport function fetchTrackerConfig() {\n  return request({\n    url: 'tracker/config',\n    method: 'get',\n  })\n}\n\n// 修改tracker配置\nexport function configTracker(data) {\n  return request({\n    url: 'tracker/config',\n    method: 'post',\n    data\n  })\n}\n\n// 获取announce\nexport function fetchAnnounces() {\n    return request({\n        url: '/tracker/announces',\n        method: 'get',\n    })\n}\n\n// 增加announce\nexport function addAnnounce(data) {\n    return request({\n        url: '/tracker/announces',\n        method: 'post',\n        data\n    })\n}\n\n// 删除announce\nexport function removeAnnounce(data) {\n    return request({\n        url: '/tracker/announces',\n        method: 'delete',\n        data\n    })\n}\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-col',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"xs\":10,\"sm\":4,\"lg\":2}},[_c('el-button',{staticStyle:{\"float\":\"'left'\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增Announce\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"域名\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row))])]}}])}),_c('el-table-column',{attrs:{\"label\":_vm.$t('domainTable.operation'),\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{ref:'popover-' + scope.row,attrs:{\"placement\":\"top\",\"width\":\"160\",\"trigger\":\"manual\"}},[_c('p',[_vm._v(\"确认删除吗\")]),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.pClose(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleDelete(scope.row)}}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1),_c('el-button',{style:(_vm.device==='mobile'?'':'margin-left: 10px'),attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.pShow(scope.row)}},slot:\"reference\"},[_vm._v(_vm._s(_vm.$t('domainTable.delete')))])],1)]}}])})],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogFormVisible,\"width\":_vm.device==='mobile'?'85%':''},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('p',[_vm._v(\"输入Announce域名\")])]),_c('el-form',{ref:\"createForm\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"Domain\",\"label-width\":\"100px\",\"required\":\"\"}},[_c('el-input',{model:{value:(_vm.form.announce),callback:function ($$v) {_vm.$set(_vm.form, \"announce\", $$v)},expression:\"form.announce\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.createItemLoading},on:{\"click\":_vm.handleCreateItem}},[_vm._v(_vm._s(_vm.$t('common.ok')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-container\">\n        <el-col :xs=\"10\" :sm=\"4\" :lg=\"2\" style=\"margin: 10px 0\">\n            <el-button style=\"float: 'left'\" type=\"primary\" @click=\"dialogFormVisible = true\">新增Announce</el-button>\n        </el-col>\n\n        <el-table :data=\"tableData\" style=\"width: 100%\" v-loading=\"tableLoading\">\n\n            <el-table-column label=\"域名\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <span style=\"margin-left: 10px\">{{ scope.row }}</span>\n                </template>\n            </el-table-column>\n\n            <el-table-column :label=\"$t('domainTable.operation')\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <el-popover placement=\"top\" width=\"160\" :ref=\"'popover-' + scope.row\" trigger=\"manual\">\n                        <p>确认删除吗</p>\n                        <div style=\"text-align: right; margin: 0\">\n                            <el-button size=\"mini\" type=\"text\" @click=\"pClose(scope.row)\">{{ $t('common.cancel') }}</el-button>\n                            <el-button type=\"primary\" size=\"mini\" @click=\"handleDelete(scope.row)\">{{ $t('common.ok') }}</el-button>\n                        </div>\n                        <el-button slot=\"reference\" size=\"mini\" type=\"danger\" @click=\"pShow(scope.row)\" :style=\"device==='mobile'?'':'margin-left: 10px'\">{{ $t('domainTable.delete') }}</el-button>\n                    </el-popover>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <el-dialog  :visible.sync=\"dialogFormVisible\" :width=\"device==='mobile'?'85%':''\">\n            <div slot=\"title\">\n                <p>输入Announce域名</p>\n                <!--<p style=\"font-size: 12px\">{{ $t('app.createTip') }}</p>-->\n            </div>\n            <el-form :model=\"form\" label-position=\"left\" label-width=\"120px\" ref=\"createForm\">\n                <el-form-item label=\"Domain\" label-width=\"100px\" required>\n                    <el-input v-model=\"form.announce\"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">{{ $t('common.cancel') }}</el-button>\n                <el-button type=\"primary\" @click=\"handleCreateItem\" :loading=\"createItemLoading\">{{ $t('common.ok') }}</el-button>\n            </div>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    import { fetchAnnounces, addAnnounce, removeAnnounce } from '@/api/trackerConfig'\n    import { mapGetters } from 'vuex'\n\n    export default {\n        name: \"announce\",\n        data() {\n            return {\n                tableData: [],\n                createItemLoading: false,\n                tableLoading: false,\n                dialogFormVisible: false,\n                form: {\n                    announce: '',\n                },\n            }\n        },\n        mounted() {\n            this.fetchData()\n        },\n        computed: {\n            ...mapGetters([\n                'device'\n            ])\n        },\n        methods: {\n            pShow(id) {\n                this.$refs[`popover-` + id].doShow()\n            },\n            pClose(id) {\n                this.$refs[`popover-` + id].doClose()\n            },\n            fetchData() {\n                this.tableLoading = true\n                fetchAnnounces().then(res => {\n                    if(res.data) {\n                        if(res.data.announces) {\n                            this.tableData = res.data.announces\n                        }\n                    }\n                    this.tableLoading = false\n                }).catch(err => {\n                    this.tableLoading = false\n                })\n            },\n            handleCreateItem() {\n                this.$refs.createForm.validate(valid => {\n                    if(valid) {\n                        this.createItemLoading = true\n                        addAnnounce(this.form)\n                            .then(res => {\n                                if(res.data.success) {\n                                    this.dialogFormVisible = false\n                                    this.createItemLoading = false\n                                    this.$message.success(\"创建成功\")\n                                    this.fetchData()\n                                }\n                            })\n                            .catch(err => {\n                                this.createItemLoading = false\n                            })\n                    } else {\n                        return false\n                    }\n                })\n            },\n            handleDelete(item) {\n                const data = {\n                    announce: item,\n                }\n                removeAnnounce(data)\n                    .then(res => {\n                        if(res.data.success) {\n                            this.fetchData()\n                            this.$message.success(this.$t('app.deleteItemSuccess'))\n                            this.pClose(item)\n                        }\n                    })\n                    .catch(err => {\n                        this.pClose(item)\n                        console.log(err)\n                    })\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announce.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announce.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./announce.vue?vue&type=template&id=11ef5566&scoped=true&\"\nimport script from \"./announce.vue?vue&type=script&lang=js&\"\nexport * from \"./announce.vue?vue&type=script&lang=js&\"\nimport style0 from \"./announce.vue?vue&type=style&index=0&id=11ef5566&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11ef5566\",\n  null\n  \n)\n\ncomponent.options.__file = \"announce.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announce.vue?vue&type=style&index=0&id=11ef5566&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announce.vue?vue&type=style&index=0&id=11ef5566&scoped=true&lang=css&\""],"sourceRoot":""}