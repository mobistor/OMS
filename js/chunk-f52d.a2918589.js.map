{"version":3,"sources":["webpack:///./src/api/userDomain.js","webpack:///./src/views/userData/reviewDomainList.vue?5b86","webpack:///src/views/userData/reviewDomainList.vue","webpack:///./src/views/userData/reviewDomainList.vue?a772","webpack:///./src/views/userData/reviewDomainList.vue","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js"],"names":["fetchHostNum","Object","_utils_request__WEBPACK_IMPORTED_MODULE_5__","url","Date","getTime","toFixed","method","fetchDomain","page","pageSize","order","filters","concat","forEach","item","value","name","fetchDomainUnderReview","blockDomain","data","whiteDomain","reviewDomain","searchHost","host","fetchUserList","fetchUserDomain","queryMap","_utils_auth__WEBPACK_IMPORTED_MODULE_6__","query","bindDomain","checkDomain","domainID","deleteDomain","fetchAdminUser","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","staticStyle","width","attrs","tableData","align","label","scopedSlots","_u","key","fn","scope","on","click","$event","hostClick","row","domain","_v","_s","native","slot","reviewing","active-color","change","reviewingChange","blocked","blacklistChange","whitelist","whiteListChange","email","class-name","type","size","reviewClick","play_url","beianClick","small","device","layout","page-sizes","page-size","tableParam","current-page","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","reviewDomainListvue_type_script_lang_js_","loading","showValid","showWhite","showBlack","showNative","searchValue","computed","objectSpread","vuex_esm","mounted","fetchTableData","methods","window","open","startsWith","_this","userDomain","then","res","id","$message","message","catch","err","_this2","_this3","formatData","_this4","arguments","length","undefined","userData_reviewDomainListvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","$export","__webpack_require__","toLength","context","STARTS_WITH","$startsWith","P","F","searchString","that","index","Math","min","search","String","call","slice"],"mappings":"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","file":"js/chunk-f52d.a2918589.js","sourcesContent":["import request from '@/utils/request'\nimport { getID } from '@/utils/auth'\n\n// 获取活跃域名总数\nexport function fetchHostNum() {\n  return request({\n    url: `host/num?ts=${((new Date().getTime()) / 1000).toFixed() - 1800}`,\n    method: 'get'\n  })\n}\n\n// 获取域名列表\nexport function fetchDomain(page, pageSize, order, filters) {\n  let url = `host?page=${page}&page_size=${pageSize}&order=${order}`\n  filters.forEach(item => {\n    if(item.value)\n      url += `&${item.name}=${item.value}`\n  })\n  return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 获取正在审核域名列表\nexport function fetchDomainUnderReview(page, pageSize) {\n    let url = `host/review?page=${page}&page_size=${pageSize}`\n    return request({\n        url,\n        method: 'get'\n    })\n}\n\n// 将域名拉黑或从黑名单移除\nexport function blockDomain(data) {\n  return request({\n    url: `/host/block`,\n    method: 'post',\n    data\n  })\n}\n\n// 将域名加入或从白名单移除\nexport function whiteDomain(data) {\n  return request({\n    url: `/host/whitelist`,\n    method: 'post',\n    data\n  })\n}\n\n// 将域名加入或从白名单移除\nexport function reviewDomain(data) {\n    return request({\n        url: `/host/review`,\n        method: 'post',\n        data\n    })\n}\n\n// 查找域名\nexport function searchHost(host) {\n  return request({\n    url: `host/search?keywords=${host}`,\n    method: 'get'\n  })\n}\n\n// 获取用户列表\nexport function fetchUserList(page, pageSize, order) {\n  return request({\n    url: `user?page=${page}&page_size=${pageSize}&order=${order}`,\n    method: 'get'\n  })\n}\n\n// 获取某用户的域名列表\nexport function fetchUserDomain(page, pageSize, queryMap) {\n  let url = `user/user_id/${getID()}/domain?page=${page}&page_size=${pageSize}`;\n\n  for (let query in queryMap) {\n      if (queryMap[query]) {\n          url = `${url}&${query}=1`\n      }\n  }\n  return request({\n    url,\n    method: 'get'\n  })\n}\n\n// 绑定域名\nexport function bindDomain(data) {\n  return request({\n    url: `user/user_id/${getID()}/domain`,\n    method: 'post',\n    data\n  })\n}\n\n// 认证域名\nexport function checkDomain(domainID) {\n  return request({\n    url: `user/user_id/${getID()}/domain/domain_id/${domainID}`,\n    method: 'post'\n  })\n}\n\n// 用户删除域名\nexport function deleteDomain(domainID) {\n  return request({\n    url: `user/user_id/${getID()}/domain/domain_id/${domainID}`,\n    method: 'delete'\n  })\n}\n\n// 管理员权限用户列表\nexport function fetchAdminUser() {\n  return request({\n    url: `user/admin`,\n    method: 'get'\n  })\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"域名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_c('a',{on:{\"click\":function($event){_vm.hostClick(scope.row.domain)}}},[_vm._v(_vm._s(scope.row.domain))])])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"平台\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.native? 'native':'web'))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"未审核\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.reviewing,\"active-color\":\"red\"},on:{\"change\":function($event){_vm.reviewingChange(scope.row)}},slot:\"reference\"})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"黑名单\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.blocked,\"active-color\":\"red\"},on:{\"change\":function($event){_vm.blacklistChange(scope.row)}},slot:\"reference\"})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"白名单\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"slot\":\"reference\",\"value\":scope.row.whitelist,\"active-color\":\"green\"},on:{\"change\":function($event){_vm.whiteListChange(scope.row)}},slot:\"reference\"})]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"联系方式\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.email))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"action\",\"align\":\"center\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.reviewClick(scope.row.play_url)}}},[_vm._v(\"审核\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.beianClick(scope.row.domain)}}},[_vm._v(\"备案\")])]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"small\":_vm.device === 'mobile',\"layout\":_vm.device === 'mobile' ? 'prev, pager, next' : 'sizes, prev, pager, next',\"page-sizes\":[10, 20, 50, 100],\"page-size\":_vm.tableParam.pageSize,\"current-page\":_vm.tableParam.page},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-container\">\n        <el-table\n                :data=\"tableData\"\n                v-loading=\"loading\"\n                style=\"width: 100%\">\n            <el-table-column align=\"center\" label=\"域名\">\n                <template slot-scope=\"scope\">\n                    <span><a @click=\"hostClick(scope.row.domain)\">{{scope.row.domain}}</a></span>\n                </template>\n            </el-table-column>\n\n            <el-table-column align=\"center\" label=\"平台\">\n                <template slot-scope=\"scope\">\n                    <span>{{ scope.row.native? 'native':'web' }}</span>\n                </template>\n            </el-table-column>\n\n            <el-table-column align=\"center\" label=\"未审核\">\n                <template slot-scope=\"scope\">\n                    <el-switch slot=\"reference\" :value=\"scope.row.reviewing\" active-color=\"red\" @change=\"reviewingChange(scope.row)\"></el-switch>\n                </template>\n            </el-table-column>\n\n            <el-table-column align=\"center\" label=\"黑名单\">\n                <template slot-scope=\"scope\">\n                    <el-switch slot=\"reference\" :value=\"scope.row.blocked\" active-color=\"red\" @change=\"blacklistChange(scope.row)\"></el-switch>\n                </template>\n            </el-table-column>\n\n            <el-table-column align=\"center\" label=\"白名单\">\n                <template slot-scope=\"scope\">\n                    <el-switch slot=\"reference\" :value=\"scope.row.whitelist\" active-color=\"green\" @change=\"whiteListChange(scope.row)\"></el-switch>\n                </template>\n            </el-table-column>\n\n            <el-table-column align=\"center\" label=\"联系方式\">\n                <template slot-scope=\"scope\">\n                    <span>{{ scope.row.email }}</span>\n                </template>\n            </el-table-column>\n\n            <el-table-column label=\"action\" align=\"center\" class-name=\"small-padding fixed-width\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"primary\" size=\"mini\" @click=\"reviewClick(scope.row.play_url)\">审核</el-button>\n                    <el-button type=\"primary\" size=\"mini\" @click=\"beianClick(scope.row.domain)\">备案</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <div class=\"pagination-container\">\n            <el-pagination\n                    :small=\"device === 'mobile'\"\n                    :layout=\"device === 'mobile' ? 'prev, pager, next' : 'sizes, prev, pager, next'\"\n                    :page-sizes=\"[10, 20, 50, 100]\"\n                    :page-size=\"tableParam.pageSize\"\n                    :current-page=\"tableParam.page\"\n                    @size-change=\"handleSizeChange\"\n                    @current-change=\"handleCurrentChange\">\n            </el-pagination>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { fetchDomainUnderReview, blockDomain, whiteDomain, searchHost, reviewDomain } from '@/api/userDomain'\n    import { mapGetters } from 'vuex'\n    import { getID } from '@/utils/auth'\n\n    export default {\n        data() {\n            return {\n                loading: false,\n                showValid: true,\n                showWhite: false,\n                showBlack: false,\n                showNative: false,\n                tableData: [],\n                tableParam: {\n                    page: 1,\n                    pageSize: 10\n                },\n\n                searchValue: '',\n            }\n        },\n        computed: {\n            ...mapGetters([\n                'device'\n            ])\n        },\n        mounted() {\n            this.fetchTableData()\n        },\n        methods: {\n            hostClick(value) {\n                window.open(`http://${value}`)\n                window.open(`https://${value}`)\n            },\n            reviewClick(value) {\n                // console.warn(`reviewClick ${value}`)\n                if (!value.startsWith('http')) {\n                    value = 'http://' + value\n                }\n                window.open(`${value}`)\n            },\n            beianClick(value) {\n                window.open(`${value}`)\n            },\n            blacklistChange(domain) {\n                if(domain.whitelist && !domain.blocked) {\n                    this.$message({\n                        message: '不能同时添加到白名单和黑名单',\n                        type: 'error'\n                    })\n                    return\n                }\n                const data = {\n                    domain: domain.domain,\n                    blocked: !domain.blocked\n                }\n                this.loading = true\n                blockDomain(data)\n                    .then(res => {\n                        this.tableData.forEach(item => {\n                            if(item.id === domain.id)\n                                item.blocked = !item.blocked\n                        })\n                        this.$message({\n                            message: domain.blocked ? '成功添加至黑名单' : '已从黑名单中移除',\n                            type: 'success'\n                        })\n                        this.loading = false\n                    })\n                    .catch(err => {\n                        this.loading = false\n                    })\n            },\n            whiteListChange(domain) {\n                if(!domain.whitelist && domain.blocked) {\n                    this.$message({\n                        message: '不能同时添加到白名单和黑名单',\n                        type: 'error'\n                    })\n                    return\n                }\n                const data = {\n                    domain: domain.domain,\n                    whitelist: !domain.whitelist\n                }\n                this.loading = true\n                whiteDomain(data)\n                    .then(res => {\n                        this.tableData.forEach(item => {\n                            if(item.id === domain.id)\n                                item.whitelist = !item.whitelist\n                        })\n                        this.$message({\n                            message: domain.whitelist ? '成功添加至白名单' : '已从白名单中移除',\n                            type: 'success'\n                        })\n                        this.loading = false\n                    })\n                    .catch(err => {\n                        this.loading = false\n                    })\n            },\n            reviewingChange(domain) {\n                const data = {\n                    domain: domain.domain,\n                    reviewing: !domain.reviewing\n                }\n                this.loading = true\n                reviewDomain(data)\n                    .then(res => {\n                        this.tableData.forEach(item => {\n                            if(item.id === domain.id)\n                                item.reviewing = !item.reviewing\n                        })\n                        this.$message({\n                            message: domain.reviewing ? '正在审核' : '已审核',\n                            type: 'success'\n                        })\n                        this.loading = false\n                    })\n                    .catch(err => {\n                        this.loading = false\n                    })\n            },\n            formatData(data) {\n                data.forEach(item => {\n                })\n                return data\n            },\n            fetchTableData(page=this.tableParam.page, pageSize=this.tableParam.pageSize) {\n                this.loading = true\n                fetchDomainUnderReview(page, pageSize).then(res => {\n                    this.loading = false\n                    this.tableData = this.formatData(res.data)\n                }).catch(err => {\n                    this.tableData = []\n                    this.loading = false\n                })\n            },\n            handleSizeChange(pageSize) {\n                this.tableParam.pageSize = pageSize\n                this.fetchTableData()\n            },\n            handleCurrentChange(page) {\n                this.tableParam.page = page\n                this.fetchTableData()\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reviewDomainList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reviewDomainList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reviewDomainList.vue?vue&type=template&id=07837e68&\"\nimport script from \"./reviewDomainList.vue?vue&type=script&lang=js&\"\nexport * from \"./reviewDomainList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"reviewDomainList.vue\"\nexport default component.exports","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n"],"sourceRoot":""}