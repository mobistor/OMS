(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5b4"],{3618:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return r}),n.d(e,"e",function(){return l});n("cadf"),n("551c"),n("097d");var a=n("b775");function o(){return Object(a["a"])({url:"tracker/config",method:"get"})}function i(t){return Object(a["a"])({url:"tracker/config",method:"post",data:t})}function c(){return Object(a["a"])({url:"/tracker/announces",method:"get"})}function r(t){return Object(a["a"])({url:"/tracker/announces",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/tracker/announces",method:"delete",data:t})}},7427:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-col",{staticStyle:{margin:"10px 0"},attrs:{xs:10,sm:4,lg:2}},[n("el-button",{staticStyle:{float:"'left'"},attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新增Announce")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:"域名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row))])]}}])}),n("el-table-column",{attrs:{label:t.$t("domainTable.operation"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{ref:"popover-"+e.row,attrs:{placement:"top",width:"160",trigger:"manual"}},[n("p",[t._v("确认删除吗")]),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){t.pClose(e.row)}}},[t._v(t._s(t.$t("common.cancel")))]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.handleDelete(e.row)}}},[t._v(t._s(t.$t("common.ok")))])],1),n("el-button",{style:"mobile"===t.device?"":"margin-left: 10px",attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(n){t.pShow(e.row)}},slot:"reference"},[t._v(t._s(t.$t("domainTable.delete")))])],1)]}}])})],1),n("el-dialog",{attrs:{visible:t.dialogFormVisible,width:"mobile"===t.device?"85%":""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("div",{attrs:{slot:"title"},slot:"title"},[n("p",[t._v("输入Announce域名")])]),n("el-form",{ref:"createForm",attrs:{model:t.form,"label-position":"left","label-width":"120px"}},[n("el-form-item",{attrs:{label:"Domain","label-width":"100px",required:""}},[n("el-input",{model:{value:t.form.announce,callback:function(e){t.$set(t.form,"announce",e)},expression:"form.announce"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),n("el-button",{attrs:{type:"primary",loading:t.createItemLoading},on:{click:t.handleCreateItem}},[t._v(t._s(t.$t("common.ok")))])],1)],1)],1)},o=[],i=n("c93e"),c=(n("cadf"),n("551c"),n("097d"),n("3618")),r=n("2f62"),l={name:"announce",data:function(){return{tableData:[],createItemLoading:!1,tableLoading:!1,dialogFormVisible:!1,form:{announce:""}}},mounted:function(){this.fetchData()},computed:Object(i["a"])({},Object(r["b"])(["device"])),methods:{pShow:function(t){this.$refs["popover-"+t].doShow()},pClose:function(t){this.$refs["popover-"+t].doClose()},fetchData:function(){var t=this;this.tableLoading=!0,Object(c["c"])().then(function(e){e.data&&e.data.announces&&(t.tableData=e.data.announces),t.tableLoading=!1}).catch(function(e){t.tableLoading=!1})},handleCreateItem:function(){var t=this;this.$refs.createForm.validate(function(e){if(!e)return!1;t.createItemLoading=!0,Object(c["a"])(t.form).then(function(e){e.data.success&&(t.dialogFormVisible=!1,t.createItemLoading=!1,t.$message.success("创建成功"),t.fetchData())}).catch(function(e){t.createItemLoading=!1})})},handleDelete:function(t){var e=this,n={announce:t};Object(c["e"])(n).then(function(n){n.data.success&&(e.fetchData(),e.$message.success(e.$t("app.deleteItemSuccess")),e.pClose(t))}).catch(function(n){e.pClose(t),console.log(n)})}}},s=l,u=(n("bf13"),n("2877")),d=Object(u["a"])(s,a,o,!1,null,"11ef5566",null);d.options.__file="announce.vue";e["default"]=d.exports},b42e:function(t,e,n){},bf13:function(t,e,n){"use strict";var a=n("b42e"),o=n.n(a);o.a}}]);
//# sourceMappingURL=chunk-f5b4.4122499a.js.map